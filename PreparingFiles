## Preparing input file 

#Create .csv for sample input for nf-core/rnaseq (see https://github.com/nf-core/rnaseq/tree/master)

#Within RNAseq data directory: Get list of sequence file names for R1 fastq and R2 fastq 
ls -d *_R1.fastq.gz -1 > list1.txt  # list all files with R1
ls -d *_R2.fastq.gz -1 > list2.txt  # list all files with R2

#get list of sample ID names from sequence file names
grep -o -P '.{0,7}_R1.fastq.gz' list1.txt | cut -c-7 | tr - _ > list3.txt

#combine these lists as columns to match sample input file (contains 4 columns: sample,fastq_1,fastq_2,strandedness) 
#for strandedness column repeat 'auto'
paste --delimiters=',' list3.txt list1.txt list2.txt | awk '{print $0 ",auto"}' > sample_seq_data_AS.csv

#add header
echo -e "sample,fastq_1,fastq_2,strandedness\n$(cat sample_seq_data_AS.csv)" > sample_seq_data_AS.csv

#NOTE THAT THIS IS THE FILE ("sample_seq_data_AS.csv") to use for nf-core/rnaseq
